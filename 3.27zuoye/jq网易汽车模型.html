<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				padding: 0;
				margin: 0;
			}
			.car_pic{
				width: 500px;
				height: 421px;
				border: 1px solid #000;
				margin-left: 100px;
				position: relative;
			}
			.car_pic ul{
				list-style: none;
			}
			.car_pic ul li.cur{display: block;}
			.car_pic ul li{
				display: none;
				width: 500px;
				height: 375px;
			}
			.car_pic ul li img{
				width: 500px;
				height: 375px;
			}
			.car_pic_ctr{
				width: 405px;
				height: 26px;
				line-height: 26px;
				font-size: 12px;
				margin: 0 auto;
				background: url(img/car_pic_ctr.png) repeat-x 0 -26px;
			}
			.ctr_l{
				float: left;
				width: 0px;
				height: 26px;
				padding-left: 20px;
				background: url(img/car_pic_ctr.png) no-repeat 0 0px;
			}
			.ctr_r{
				float: right;
				width: 0px;
				height: 26px;
				padding-right: 45px;
				background: url(img/car_pic_ctr.png) no-repeat 25px -78px;
			}
			.ctr_center{
				float: left;
				width: 300px;
				height: 26px;
				background: url(img/car_pic_ctr.png) repeat-x 0 -52px;
				margin: 0 20px;
				position: relative;
				cursor: pointer;
			}
			.ctr_center b{
				position: absolute;
				top: 0;
				left: 0;
				width: 21px;
				height: 26px;
				background: url(img/car_pic_ctr.png) repeat-x 0 -104px;
			}
		</style>
	</head>
	<body>
		<div class="car_pic">
			<div class="imglist" id="imglist">
				<ul>
					<li class="cur"> <img src="img/0.jpg"/> </li>
					<li> <img src="img/1.jpg"/> </li>
					<li> <img src="img/2.jpg"/> </li>
					<li> <img src="img/3.jpg"/> </li>
					<li> <img src="img/4.jpg"/> </li>
				</ul>
			</div>
			<div class="car_pic_ctr">
				<div class="ctr_l">0°</div>
				<div class="ctr_center" id="ctr_center">
					<b id="barB"></b>
				</div>
				<div class="ctr_r">180°</div>
			</div>
		</div>
		<script src="js.1.2.3.js" type="text/javascript" charset="utf-8"></script>
		<script src="jsui.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var $barB=$("#barB");
			var $ctr_center=$("#ctr_center");
			var $imglistlis=$("#imglist li");
			var step=($ctr_center.outerWidth()-$barB.outerWidth())/4;
			var idx=0;
			$barB.draggable({
				"axis":"x",
				"containment":"parent",
				"grid":[step],
				"drag":function(event,ui){
					if (idx!=parseInt(ui.position.left/step)) {
						//老图淡入.新图淡出
						$imglistlis.eq(idx).stop(true).fadeOut(10,function(){
							idx=parseInt(ui.position.left/step);
							$imglistlis.eq(idx).stop(true).fadeIn(30);
						})
					}
				}
			})
			$ctr_center.click(function(event){
				//鼠标点击的x的位置
				var x=event.clientX-$ctr_center.offset().left;
				$imglistlis.eq(idx).stop(true).fadeOut(10,function(){
					idx=Math.round(x/step);
					$imglistlis.eq(idx).stop(true).fadeIn(30);
					$barB.css("left",idx*step);
					
				})
			})
		</script>
	</body>
</html>
